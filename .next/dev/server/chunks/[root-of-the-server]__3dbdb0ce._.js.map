{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/D/next/engage333/app/api/qr/route.ts"],"sourcesContent":["export const runtime = \"nodejs\";\n\n// @ts-ignore\nimport QRCode from \"qrcode\";\n\nexport async function POST(req: Request) {\n  try {\n    const { baseUrl } = await req.json();\n\n    if (!baseUrl) {\n      return new Response(JSON.stringify({ error: \"baseUrl required\" }), {\n        status: 400,\n      });\n    }\n\n    const dataUrl = await QRCode.toDataURL(baseUrl);\n\n    // strip header and decode\n    const base64 = dataUrl.split(\",\")[1];\n    const buffer = Buffer.from(base64, \"base64\");\n\n    return new Response(buffer, {\n      status: 200,\n      headers: {\n        \"Content-Type\": \"image/png\",\n        \"Content-Disposition\": 'inline; filename=\"qr.png\"',\n      },\n    });\n  } catch (e) {\n    console.error(e);\n    return new Response(JSON.stringify({ error: \"QR failed\" }), {\n      status: 500,\n    });\n  }\n}\n"],"names":[],"mappings":";;;;;;AAEA,aAAa;AACb;AAHO,MAAM,UAAU;;AAKhB,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,IAAI,IAAI;QAElC,IAAI,CAAC,SAAS;YACZ,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;gBAAE,OAAO;YAAmB,IAAI;gBACjE,QAAQ;YACV;QACF;QAEA,MAAM,UAAU,MAAM,mJAAM,CAAC,SAAS,CAAC;QAEvC,0BAA0B;QAC1B,MAAM,SAAS,QAAQ,KAAK,CAAC,IAAI,CAAC,EAAE;QACpC,MAAM,SAAS,OAAO,IAAI,CAAC,QAAQ;QAEnC,OAAO,IAAI,SAAS,QAAQ;YAC1B,QAAQ;YACR,SAAS;gBACP,gBAAgB;gBAChB,uBAAuB;YACzB;QACF;IACF,EAAE,OAAO,GAAG;QACV,QAAQ,KAAK,CAAC;QACd,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;YAAE,OAAO;QAAY,IAAI;YAC1D,QAAQ;QACV;IACF;AACF"}}]
}