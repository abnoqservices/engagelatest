{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/D/next/engage333/app/api/qr/route.ts"],"sourcesContent":["export const runtime = \"nodejs\";\n\nimport { NextRequest, NextResponse } from \"next/server\";\n// @ts-ignore\nimport QRCode from \"qrcode\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nexport async function POST(req: NextRequest) {\n  try {\n    const { baseUrl } = await req.json();\n\n    if (!baseUrl || typeof baseUrl !== \"string\") {\n      return NextResponse.json(\n        { error: \"baseUrl is required\" },\n        { status: 400 }\n      );\n    }\n\n    const productId = uuidv4();\n    const qrTargetUrl = `${baseUrl}`;\n\n    const qrImageBase64 = await QRCode.toDataURL(qrTargetUrl, {\n      width: 400,\n      margin: 2,\n      errorCorrectionLevel: \"H\",\n    });\n\n    return NextResponse.json({\n      success: true,\n      productId,\n      qrTargetUrl,\n      qrImageBase64,\n    });\n  } catch (error) {\n    console.error(\"QR generation error:\", error);\n    return NextResponse.json(\n      { error: \"Failed to generate QR\" },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;;;AAEA;AACA,aAAa;AACb;AACA;AALO,MAAM,UAAU;;;;AAOhB,eAAe,KAAK,GAAgB;IACzC,IAAI;QACF,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,IAAI,IAAI;QAElC,IAAI,CAAC,WAAW,OAAO,YAAY,UAAU;YAC3C,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAsB,GAC/B;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,YAAY,IAAA,mLAAM;QACxB,MAAM,cAAc,GAAG,SAAS;QAEhC,MAAM,gBAAgB,MAAM,mJAAM,CAAC,SAAS,CAAC,aAAa;YACxD,OAAO;YACP,QAAQ;YACR,sBAAsB;QACxB;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT;YACA;YACA;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAwB,GACjC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}