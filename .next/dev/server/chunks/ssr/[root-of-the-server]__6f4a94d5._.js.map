{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/D/next/engage33/components/AuthWrapper.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useRouter, usePathname } from \"next/navigation\";\n\nexport default function AuthWrapper({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const router = useRouter();\n  const pathname = usePathname();\n  const [isReady, setIsReady] = useState(false);\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n\n    const publicRoutes = [\"/signin\", \"/signup\", \"/forgot-password\"];\n\n    // ðŸ”’ Not logged in â†’ block protected routes\n    if (!token && !publicRoutes.includes(pathname)) {\n      router.replace(\"/signin\"); // âœ… replace prevents flicker\n      return;\n    }\n\n    // âœ… Logged in â†’ block auth pages\n    if (token && publicRoutes.includes(pathname)) {\n      router.replace(\"/dashboard\"); // âœ… no history stack\n      return;\n    }\n\n    // âœ… Only allow render when route is valid\n    setIsReady(true);\n  }, [pathname, router]);\n\n  // âœ… Prevent UI flicker\n  if (!isReady) return null; // or <Loader />\n\n  return <>{children}</>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS,YAAY,EAClC,QAAQ,EAGT;IACC,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,QAAQ,aAAa,OAAO,CAAC;QAEnC,MAAM,eAAe;YAAC;YAAW;YAAW;SAAmB;QAE/D,4CAA4C;QAC5C,IAAI,CAAC,SAAS,CAAC,aAAa,QAAQ,CAAC,WAAW;YAC9C,OAAO,OAAO,CAAC,YAAY,6BAA6B;YACxD;QACF;QAEA,iCAAiC;QACjC,IAAI,SAAS,aAAa,QAAQ,CAAC,WAAW;YAC5C,OAAO,OAAO,CAAC,eAAe,qBAAqB;YACnD;QACF;QAEA,0CAA0C;QAC1C,WAAW;IACb,GAAG;QAAC;QAAU;KAAO;IAErB,uBAAuB;IACvB,IAAI,CAAC,SAAS,OAAO,MAAM,gBAAgB;IAE3C,qBAAO;kBAAG;;AACZ"}}]
}