{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/D/next/engage33/components/tempcomponent/Pheader.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axiosClient from \"@/lib/axiosClient\";\n\ninterface PheaderProps {\n  productId: number;\n  product_header?: boolean; // Optional, defaults to true\n}\n\ninterface ProductData {\n  id: number;\n  name: string;\n  sku: string;\n  category: string; // From top-level \"category\" string (e.g., \"Smartphones\")\n  price: string;\n  description: string;\n  images: Array<{ url?: string }>; // Adjust based on actual images structure\n  // Add other fields if needed\n}\n\nexport default function Pheader({ productId, product_header = true }: PheaderProps) {\n  const [product, setProduct] = useState<ProductData | null>(null);\n  const [loading, setLoading] = useState<boolean>(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchProduct = async () => {\n      try {\n        setLoading(true);\n        const response = await axiosClient.get(`/products/${productId}`);\n        if (response.data.success) {\n          setProduct(response.data.data);\n        } else {\n          setError(\"Failed to fetch product\");\n        }\n      } catch (err) {\n        setError(\"An error occurred while fetching the product\");\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (productId) {\n      fetchProduct();\n    }\n  }, [productId]);\n\n  if (loading) {\n    return (\n      <div className=\"card-header flex flex-col items-center text-center py-6 px-4\">\n        <p className=\"text-gray-600\">Loading product details...</p>\n      </div>\n    );\n  }\n\n  if (error || !product) {\n    return (\n      <div className=\"card-header flex flex-col items-center text-center py-6 px-4\">\n        <p className=\"text-red-600\">{error || \"Product not found\"}</p>\n      </div>\n    );\n  }\n  if (!product_header) {\n    return null;\n  }\n  // Use first image if available, otherwise fallback\n  const productImage = product.images?.[0]?.url || \"/F1.jpg\";\n  // Use top-level category string (e.g., \"Smartphones\")\n  const category = typeof product.category === 'string'\n  ? product.category\n  : product.category?.name || \"Uncategorized\";\n\n  return (\n    <div className=\"card-header flex flex-col items-center text-center py-6 px-4\">\n      {/* Shadow Wrapper - Product Image */}\n      <div className=\"rounded-full shadow-xl p-1 mb-6\">\n        <div className=\"w-32 h-32 rounded-full overflow-hidden bg-gray-100\">\n          <img\n            src={productImage}\n            alt={product.name}\n            className=\"w-full h-full object-cover\"\n            onError={(e) => (e.currentTarget.src = \"/fallback-logo.png\")}\n          />\n        </div>\n      </div>\n\n      {/* Product Title */}\n      <h1 className=\"text-4xl font-bold text-gray-900 mb-3\">\n        {product.name}\n      </h1>\n\n      {/* Price */}\n      <p className=\"text-3xl font-semibold text-green-600 mb-4\">\n        ${product.price}\n      </p>\n\n      {/* SKU & Category */}\n      <div className=\"flex gap-4 text-sm text-gray-500 mb-4\">\n        <span>SKU: {product.sku}</span>\n        <span>â€¢</span>\n        <span>Category: {category}</span>\n      </div>\n\n      {/* Description / Subtitle */}\n      <p className=\"text-gray-600 text-base leading-relaxed max-w-lg\">\n        {product.description}\n      </p>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAkBe,SAAS,QAAQ,EAAE,SAAS,EAAE,iBAAiB,IAAI,EAAgB;IAChF,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAqB;IAC3D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAU;IAChD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,IAAA,kNAAS,EAAC;QACR,MAAM,eAAe;YACnB,IAAI;gBACF,WAAW;gBACX,MAAM,WAAW,MAAM,6HAAW,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,WAAW;gBAC/D,IAAI,SAAS,IAAI,CAAC,OAAO,EAAE;oBACzB,WAAW,SAAS,IAAI,CAAC,IAAI;gBAC/B,OAAO;oBACL,SAAS;gBACX;YACF,EAAE,OAAO,KAAK;gBACZ,SAAS;gBACT,QAAQ,KAAK,CAAC;YAChB,SAAU;gBACR,WAAW;YACb;QACF;QAEA,IAAI,WAAW;YACb;QACF;IACF,GAAG;QAAC;KAAU;IAEd,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAE,WAAU;0BAAgB;;;;;;;;;;;IAGnC;IAEA,IAAI,SAAS,CAAC,SAAS;QACrB,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAE,WAAU;0BAAgB,SAAS;;;;;;;;;;;IAG5C;IACA,IAAI,CAAC,gBAAgB;QACnB,OAAO;IACT;IACA,mDAAmD;IACnD,MAAM,eAAe,QAAQ,MAAM,EAAE,CAAC,EAAE,EAAE,OAAO;IACjD,sDAAsD;IACtD,MAAM,WAAW,OAAO,QAAQ,QAAQ,KAAK,WAC3C,QAAQ,QAAQ,GAChB,QAAQ,QAAQ,EAAE,QAAQ;IAE5B,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBACC,KAAK;wBACL,KAAK,QAAQ,IAAI;wBACjB,WAAU;wBACV,SAAS,CAAC,IAAO,EAAE,aAAa,CAAC,GAAG,GAAG;;;;;;;;;;;;;;;;0BAM7C,8OAAC;gBAAG,WAAU;0BACX,QAAQ,IAAI;;;;;;0BAIf,8OAAC;gBAAE,WAAU;;oBAA6C;oBACtD,QAAQ,KAAK;;;;;;;0BAIjB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;4BAAK;4BAAM,QAAQ,GAAG;;;;;;;kCACvB,8OAAC;kCAAK;;;;;;kCACN,8OAAC;;4BAAK;4BAAW;;;;;;;;;;;;;0BAInB,8OAAC;gBAAE,WAAU;0BACV,QAAQ,WAAW;;;;;;;;;;;;AAI5B"}}]
}