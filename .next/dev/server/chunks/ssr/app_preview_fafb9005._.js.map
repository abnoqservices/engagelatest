{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/D/next/engage33/app/preview/page.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/preview/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/preview/page.tsx <module evaluation>\",\n    \"default\",\n);\nexport const dynamic = registerClientReference(\n    function() { throw new Error(\"Attempted to call dynamic() from the server but dynamic is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/preview/page.tsx <module evaluation>\",\n    \"dynamic\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAwR,GACrT,sDACA;AAEG,MAAM,UAAU,IAAA,wQAAuB,EAC1C;IAAa,MAAM,IAAI,MAAM;AAA8N,GAC3P,sDACA","ignoreList":[0]}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/D/next/engage33/app/preview/page.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/preview/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/preview/page.tsx\",\n    \"default\",\n);\nexport const dynamic = registerClientReference(\n    function() { throw new Error(\"Attempted to call dynamic() from the server but dynamic is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/preview/page.tsx\",\n    \"dynamic\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAoQ,GACjS,kCACA;AAEG,MAAM,UAAU,IAAA,wQAAuB,EAC1C;IAAa,MAAM,IAAI,MAAM;AAA8N,GAC3P,kCACA","ignoreList":[0]}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/D/next/engage33/app/preview/layout.tsx"],"sourcesContent":["import Preview from \"@/app/preview/page\";\nimport { axiosServer } from \"@/lib/axiosServer\";\n\ninterface ApiResponse {\n  success: boolean;\n  data: {\n    product_id: number;\n    sections: Array<{\n      id: number;\n      content: any;\n      is_published: boolean;\n      sort_order: number;\n      global_section: {\n        key: string;\n        name: string;\n      };\n    }>;\n  };\n}\n\nfunction transformApiData(apiData: ApiResponse[\"data\"]) {\n  return {\n    templateName: \"modern\",\n    sections: apiData.sections\n      .filter((s) => s.is_published)\n      .sort((a, b) => a.sort_order - b.sort_order)\n      .map((s) => ({\n        id: s.id,\n        key: s.global_section.key,\n        name: s.global_section.name,\n        content: s.content,\n      })),\n    rawSections: apiData.sections,\n  };\n}\n\nexport default async function PreviewPage({\n  params,\n}: {\n  params: { productId: string };\n}) {\n  const productId = 32;\n\n  try {\n    const api = axiosServer();\n\n    const response = await api.get<ApiResponse>(\n      `/products/${productId}/landing-page`\n    );\n\n    const json = response.data;\n\n    if (!json.success) {\n      throw new Error(\"API returned success=false\");\n    }\n\n    const previewData = transformApiData(json.data);\n\n    return (\n      <main className=\"min-h-screen\">\n        <Preview data={previewData} productId={productId} />\n      </main>\n    );\n  } catch (err: any) {\n    console.error(\"Preview API error:\", err?.response || err);\n\n    return (\n      <div className=\"flex min-h-screen items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <h1 className=\"text-2xl font-bold text-red-600\">Error</h1>\n          <p className=\"mt-2 text-gray-700\">\n            {err?.response?.status === 401\n              ? \"Unauthorized â€“ login required\"\n              : \"Failed to load preview\"}\n          </p>\n        </div>\n      </div>\n    );\n  }\n}\n"],"names":[],"mappings":";;;;;AAAA;;;;;;;;;AAoBA,SAAS,iBAAiB,OAA4B;IACpD,OAAO;QACL,cAAc;QACd,UAAU,QAAQ,QAAQ,CACvB,MAAM,CAAC,CAAC,IAAM,EAAE,YAAY,EAC5B,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,UAAU,GAAG,EAAE,UAAU,EAC1C,GAAG,CAAC,CAAC,IAAM,CAAC;gBACX,IAAI,EAAE,EAAE;gBACR,KAAK,EAAE,cAAc,CAAC,GAAG;gBACzB,MAAM,EAAE,cAAc,CAAC,IAAI;gBAC3B,SAAS,EAAE,OAAO;YACpB,CAAC;QACH,aAAa,QAAQ,QAAQ;IAC/B;AACF;AAEe,eAAe,YAAY,EACxC,MAAM,EAGP;IACC,MAAM,YAAY;IAElB,IAAI;QACF,MAAM,MAAM;QAEZ,MAAM,WAAW,MAAM,IAAI,GAAG,CAC5B,CAAC,UAAU,EAAE,UAAU,aAAa,CAAC;QAGvC,MAAM,OAAO,SAAS,IAAI;QAE1B,IAAI,CAAC,KAAK,OAAO,EAAE;YACjB,MAAM,IAAI,MAAM;QAClB;QAEA,MAAM,cAAc,iBAAiB,KAAK,IAAI;QAE9C,qBACE,8OAAC;YAAK,WAAU;sBACd,cAAA,8OAAC,kIAAO;gBAAC,MAAM;gBAAa,WAAW;;;;;;;;;;;IAG7C,EAAE,OAAO,KAAU;QACjB,QAAQ,KAAK,CAAC,sBAAsB,KAAK,YAAY;QAErD,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAkC;;;;;;kCAChD,8OAAC;wBAAE,WAAU;kCACV,KAAK,UAAU,WAAW,MACvB,kCACA;;;;;;;;;;;;;;;;;IAKd;AACF"}}]
}