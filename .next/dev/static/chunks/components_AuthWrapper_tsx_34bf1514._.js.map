{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/D/next/engage33/components/AuthWrapper.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useRouter, usePathname } from \"next/navigation\";\n\nexport default function AuthWrapper({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const router = useRouter();\n  const pathname = usePathname();\n  const [isReady, setIsReady] = useState(false);\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n\n    const publicRoutes = [\"/signin\", \"/signup\", \"/forgot-password\"];\n\n    // ðŸ”’ Not logged in â†’ block protected routes\n    if (!token && !publicRoutes.includes(pathname)) {\n      router.replace(\"/signin\"); // âœ… replace prevents flicker\n      return;\n    }\n\n    // âœ… Logged in â†’ block auth pages\n    if (token && publicRoutes.includes(pathname)) {\n      router.replace(\"/dashboard\"); // âœ… no history stack\n      return;\n    }\n\n    // âœ… Only allow render when route is valid\n    setIsReady(true);\n  }, [pathname, router]);\n\n  // âœ… Prevent UI flicker\n  if (!isReady) return null; // or <Loader />\n\n  return <>{children}</>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS,YAAY,EAClC,QAAQ,EAGT;;IACC,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,WAAW,IAAA,oJAAW;IAC5B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;iCAAC;YACR,MAAM,QAAQ,aAAa,OAAO,CAAC;YAEnC,MAAM,eAAe;gBAAC;gBAAW;gBAAW;aAAmB;YAE/D,4CAA4C;YAC5C,IAAI,CAAC,SAAS,CAAC,aAAa,QAAQ,CAAC,WAAW;gBAC9C,OAAO,OAAO,CAAC,YAAY,6BAA6B;gBACxD;YACF;YAEA,iCAAiC;YACjC,IAAI,SAAS,aAAa,QAAQ,CAAC,WAAW;gBAC5C,OAAO,OAAO,CAAC,eAAe,qBAAqB;gBACnD;YACF;YAEA,0CAA0C;YAC1C,WAAW;QACb;gCAAG;QAAC;QAAU;KAAO;IAErB,uBAAuB;IACvB,IAAI,CAAC,SAAS,OAAO,MAAM,gBAAgB;IAE3C,qBAAO;kBAAG;;AACZ;GAlCwB;;QAKP,kJAAS;QACP,oJAAW;;;KANN"}}]
}