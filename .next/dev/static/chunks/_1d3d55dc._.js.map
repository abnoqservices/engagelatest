{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/D/next/engage33/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/D/next/engage33/components/ui/switch.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SwitchPrimitive from '@radix-ui/react-switch'\n\nimport { cn } from '@/lib/utils'\n\nfunction Switch({\n  className,\n  ...props\n}: React.ComponentProps<typeof SwitchPrimitive.Root>) {\n  return (\n    <SwitchPrimitive.Root\n      data-slot=\"switch\"\n      className={cn(\n        'peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    >\n      <SwitchPrimitive.Thumb\n        data-slot=\"switch-thumb\"\n        className={\n          'bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0'\n        }\n      />\n    </SwitchPrimitive.Root>\n  )\n}\n\nexport { Switch }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,6LAAC,6KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,6WACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,8KAAqB;YACpB,aAAU;YACV,WACE;;;;;;;;;;;AAKV;KArBS"}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/D/next/engage33/components/ui/select.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SelectPrimitive from '@radix-ui/react-select'\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\nfunction SelectTrigger({\n  className,\n  size = 'default',\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: 'sm' | 'default'\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = 'popper',\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md',\n          position === 'popper' &&\n            'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',\n          className,\n        )}\n        position={position}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            'p-1',\n            position === 'popper' &&\n              'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1',\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn('text-muted-foreground px-2 py-1.5 text-xs', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn('bg-border pointer-events-none -mx-1 my-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,6LAAC,6KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,OAAO,SAAS,EAChB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,6LAAC,gLAAuB;QACtB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,qHAAE,EACX,gzBACA;QAED,GAAG,KAAK;;YAER;0BACD,6LAAC,6KAAoB;gBAAC,OAAO;0BAC3B,cAAA,6LAAC,8OAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;MAxBS;AA0BT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,QAAQ,EACnB,GAAG,OACkD;IACrD,qBACE,6LAAC,+KAAsB;kBACrB,cAAA,6LAAC,gLAAuB;YACtB,aAAU;YACV,WAAW,IAAA,qHAAE,EACX,ijBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,6LAAC;;;;;8BACD,6LAAC,iLAAwB;oBACvB,WAAW,IAAA,qHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,6LAAC;;;;;;;;;;;;;;;;AAIT;MAjCS;AAmCT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC+C;IAClD,qBACE,6LAAC,6KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,6aACA;QAED,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC,sLAA6B;8BAC5B,cAAA,6LAAC,wNAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,6LAAC,iLAAwB;0BAAE;;;;;;;;;;;;AAGjC;MAtBS;AAwBT,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACoD;IACvD,qBACE,6LAAC,kLAAyB;QACxB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACyD;IAC5D,qBACE,6LAAC,uLAA8B;QAC7B,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,wOAAa;YAAC,WAAU;;;;;;;;;;;AAG/B;MAhBS;AAkBT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,6LAAC,yLAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,8OAAe;YAAC,WAAU;;;;;;;;;;;AAGjC;MAhBS"}},
    {"offset": {"line": 422, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/D/next/engage33/app/landing-pages/new/page.client.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport dynamic from \"next/dynamic\";\nimport { DashboardLayout } from \"@/components/dashboard/layout\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { GripVertical, CheckCircle2, X, Loader2 } from \"lucide-react\";\nimport { useParams } from \"next/navigation\";\nimport axiosClient from \"@/lib/axiosClient\";\n\nimport {\n  DndContext,\n  closestCenter,\n  PointerSensor,\n  useSensor,\n  useSensors,\n} from \"@dnd-kit/core\";\n\nimport {\n  arrayMove,\n  SortableContext,\n  verticalListSortingStrategy,\n  useSortable,\n} from \"@dnd-kit/sortable\";\n\n\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Button } from \"@/components/ui/button\";\n\n// Preview client-only\nconst Perview = dynamic(() => import(\"@/app/preview/page\"), {\n  ssr: false,\n});\n\n/* ----------------------------------------------------\n   TOAST COMPONENT\n---------------------------------------------------- */\nconst Toast = ({ message, type = \"success\", onClose }) => {\n  React.useEffect(() => {\n    const timer = setTimeout(onClose, 4000);\n    return () => clearTimeout(timer);\n  }, [onClose]);\n\n  return (\n    <div \n      className={`fixed bottom-8 left-1/2 -translate-x-1/2 z-50 px-6 py-4 rounded-lg shadow-2xl text-white font-medium flex items-center gap-3 ${\n        type === \"success\" ? \"bg-green-600\" : \"bg-red-600\"\n      }`}\n      style={{ animation: \"slideUp 0.3s ease-out\" }}\n    >\n      {type === \"success\" ? <CheckCircle2 className=\"h-5 w-5\" /> : <X className=\"h-5 w-5\" />}\n      {message}\n    </div>\n  );\n};\n\n/* ----------------------------------------------------\n   SORTABLE ITEM\n---------------------------------------------------- */\nfunction SortableItem({ item, availableSections, onToggle, onRemove }) {\n  const { attributes, listeners, setNodeRef, transform, transition } =\n    useSortable({ id: item.section });\n\n  const [mounted, setMounted] = React.useState(false);\n  React.useEffect(() => setMounted(true), []);\n\n  const style = {\n    transform: mounted && transform ? CSS.Transform.toString(transform) : undefined,\n    transition: mounted ? transition : undefined,\n  };\n\n  return (\n    <div\n      ref={setNodeRef}\n      style={style}\n      className=\"flex items-center justify-between rounded-lg border p-4 bg-white shadow-sm\"\n    >\n      <div className=\"flex items-center gap-3\">\n        <GripVertical className=\"h-5 w-5 cursor-grab\" {...attributes} {...listeners} />\n        <span className=\"font-medium\">\n          {availableSections.find(s => s.section === item.section)?.label || item.section}\n        </span>\n      </div>\n\n      <div className=\"flex items-center gap-3\">\n        <Switch checked={item.enabled} onCheckedChange={() => onToggle(item.section)} />\n        <Button size=\"sm\" variant=\"ghost\" onClick={() => onRemove(item.section)} className=\"cursor-pointer\">\n          Remove\n        </Button>\n      </div>\n    </div>\n  );\n}\n\n/* ----------------------------------------------------\n   MAIN BUILDER\n---------------------------------------------------- */\nexport default function NewLandingPagePage({ templateId, userId }) {\n  const params = useParams();\n  const isEditMode = Boolean(params?.id);\n  const [selectValue, setSelectValue] = React.useState(\"\");\n  const [isSaving, setIsSaving] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(true);\n  const [toast, setToast] = React.useState(null);\n  \n  // Dynamic sections from database\n  const [availableSections, setAvailableSections] = React.useState([]);\n  const [activeSections, setActiveSections] = React.useState([]);\n  const [styles, setStyles] = React.useState({\n    primaryColor: \"#ecedf4ff\",\n    backgroundColor: \"#000000\",\n    textColor: \"#a97d38\",\n    headlineSize: 28,\n    paragraphSize: 16,\n  });\n\n  const showToast = (message, type = \"success\") => {\n    setToast({ message, type });\n  };\n\n  const sensors = useSensors(useSensor(PointerSensor, { activationConstraint: { distance: 6 } }));\n\n  // Fetch sections from database\n  React.useEffect(() => {\n    const fetchSections = async () => {\n      if (!templateId || !userId) {\n        showToast(\"Missing template ID or user ID\", \"error\");\n        setIsLoading(false);\n        return;\n      }\n\n      try {\n        setIsLoading(true);\n        \n        // Fetch available sections and template data\n        const response = await axiosClient.post(`/templates/sections`, {\n          templateId,\n          userId\n        });\n        \n\n        if (response.data.status === \"success\") {\n         const { availableSections, activeSections, styles } = response.data.data;\n\n          \n          // Set available sections from database\n          setAvailableSections(availableSections || []);\n          \n          // Set active sections (either from saved template or defaults)\n          if (activeSections && activeSections.length > 0) {\n            setActiveSections(activeSections);\n            const defaultKeys = [\"Header\", \"Description\", \"sliderThree\", \"Specification\", \"CTA\", \"Social\", \"Contact\"];\n          } else {\n            // Set default sections if no saved data\n            const defaultKeys = [\"Header\", \"Description\", \"sliderThree\", \"Specification\", \"CTA\", \"Social\", \"Contact\"];\n            const defaultSections = sections\n              .filter(sec => defaultKeys.includes(sec.section))\n              .map(sec => ({\n                section: sec.section,\n                enabled: true,\n                fields: sec.fields\n              }));\n            setActiveSections(defaultSections);\n          }\n          \n          // Set styles if available\n          // if (templateStyles) {\n          //   setStyles(templateStyles);\n          // }\n        } else {\n          showToast(response.data.message || \"Failed to load sections\", \"error\");\n        }\n      } catch (error) {\n        console.error(\"Fetch sections error:\", error);\n        showToast(error.response?.data?.message || \"Failed to load sections\", \"error\");\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchSections();\n  }, [templateId, userId]);\n\n  const handleAddSection = (sectionKey) => {\n    if (activeSections.some(s => s.section === sectionKey)) return;\n    const template = availableSections.find(s => s.section === sectionKey);\n\n    if (template) {\n      setActiveSections(prev => [...prev, {\n        section: template.section,\n        enabled: true,\n        fields: template.fields,\n      }]);\n    }\n  };\n\n  const toggleEnabled = (key) =>\n    setActiveSections(prev => prev.map(s =>\n      s.section === key ? { ...s, enabled: !s.enabled } : s\n    ));\n\n  const removeSection = (key) =>\n    setActiveSections(prev => prev.filter(s => s.section !== key));\n\n  const onDragEnd = ({ active, over }) => {\n    if (!over || active.id === over.id) return;\n\n    setActiveSections((prev) => {\n      const oldIndex = prev.findIndex((s) => s.section === active.id);\n      const newIndex = prev.findIndex((s) => s.section === over.id);\n      return arrayMove(prev, oldIndex, newIndex);\n    });\n  };\n\n  const handleSave = async () => {\n    if (!templateId || !userId) {\n      showToast(\"Missing template ID or user ID\", \"error\");\n      return;\n    }\n\n    setIsSaving(true);\n    \n    try {\n      const payload = {\n        templateId,\n        userId,\n        sections: activeSections,\n        styles\n      };\n\n      const response = await axiosClient.post('/templates/templateupdate/', payload);\n      \n      if (response.data.status === \"success\") {\n        showToast(\"Template saved successfully!\", \"success\");\n      } else {\n        showToast(response.data.message || \"Failed to save template\", \"error\");\n      }\n    } catch (error) {\n      console.error(\"Save error:\", error);\n      showToast(error.response?.data?.message || \"Failed to save template\", \"error\");\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const previewPayload = {\n    templateName: \"modern\",\n    sections: activeSections,\n    styles,\n  };\n\n  const availableToAdd = availableSections.filter(\n    (s) => !activeSections.some((a) => a.section === s.section)\n  );\n\n  // Loading state\n  if (isLoading) {\n    return (\n      <DashboardLayout>\n        <div className=\"flex items-center justify-center h-screen\">\n          <div className=\"text-center space-y-4\">\n            <Loader2 className=\"h-12 w-12 animate-spin mx-auto text-primary\" />\n            <p className=\"text-lg text-muted-foreground\">Loading sections...</p>\n          </div>\n        </div>\n      </DashboardLayout>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"max-w-7xl mx-auto space-y-8 p-6\">\n        <div className=\"flex items-center justify-between\">\n          <h1 className=\"text-3xl font-bold\">\n      \n          </h1>\n          \n          <Button \n            onClick={handleSave} \n            disabled={isSaving}\n            size=\"lg\"\n            className=\"cursor-pointer\"\n          >\n            {isSaving ? \"Saving...\" : \"Save & Publish\"}\n          </Button>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n          {/* LEFT */}\n          <div className=\"space-y-6\">\n            {/* Add Sections */}\n            <Card>\n              <CardHeader>\n                <CardTitle>Add Sections</CardTitle>\n                <CardDescription>Select a section to add</CardDescription>\n              </CardHeader>\n\n              <CardContent>\n                <Select\n                  value={selectValue}\n                  onValueChange={(val) => {\n                    handleAddSection(val);\n                    setSelectValue(\"\");\n                  }}\n                >\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"Select Component of section...\" />\n                  </SelectTrigger>\n\n                  <SelectContent>\n                    {availableToAdd.length > 0 ? (\n                      availableToAdd.map((s) => (\n                        <SelectItem key={s.section} value={s.section}>\n                          {s.label}\n                        </SelectItem>\n                      ))\n                    ) : (\n                      <div className=\"p-4 text-center text-sm text-muted-foreground\">\n                        All sections added\n                      </div>\n                    )}\n                  </SelectContent>\n                </Select>\n              </CardContent>\n            </Card>\n\n            {/* Drag & Drop */}\n            <Card>\n              <CardHeader>\n                <CardTitle>Page Sections</CardTitle>\n                <CardDescription>Reorder sections</CardDescription>\n              </CardHeader>\n\n              <CardContent>\n                {activeSections.length > 0 ? (\n                  <DndContext sensors={sensors} collisionDetection={closestCenter} onDragEnd={onDragEnd}>\n                    <SortableContext\n                      items={activeSections.map((s) => s.section)}\n                      strategy={verticalListSortingStrategy}\n                    >\n                      <div className=\"space-y-3\">\n                        {activeSections.map((item) => (\n                          <SortableItem\n                            key={item.section}\n                            item={item}\n                            availableSections={availableSections}\n                            onToggle={toggleEnabled}\n                            onRemove={removeSection}\n                          />\n                        ))}\n                      </div>\n                    </SortableContext>\n                  </DndContext>\n                ) : (\n                  <div className=\"text-center py-8 text-muted-foreground\">\n                    No sections added. Select a section from the dropdown above.\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* RIGHT: PREVIEW */}\n          <Card>\n            <CardHeader>\n              <CardTitle>Mobile Preview</CardTitle>\n            </CardHeader>\n\n            <CardContent className=\"flex justify-center py-8\">\n              <div className=\"w-[360px] h-[720px] rounded-[45px] border-[14px] border-black bg-black overflow-hidden relative shadow-xl\">\n                {/* Notch */}\n                <div className=\"absolute top-0 left-1/2 -translate-x-1/2 w-40 h-6 bg-black rounded-b-3xl z-20\"></div>\n\n                <div className=\"bg-white w-full h-full overflow-y-auto\">\n                  <Perview data={previewPayload} />\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Toast Notification */}\n        {toast && (\n          <Toast \n            message={toast.message} \n            type={toast.type} \n            onClose={() => setToast(null)} \n          />\n        )}\n      </div>\n    </>\n  );\n}"],"names":[],"mappings":"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"}}]
}