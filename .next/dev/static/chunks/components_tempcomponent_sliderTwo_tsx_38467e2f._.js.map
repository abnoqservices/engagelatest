{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/D/next/engage333/components/tempcomponent/sliderTwo.tsx"],"sourcesContent":["'use client'\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\nimport { EffectCoverflow, Autoplay, Pagination } from \"swiper/modules\";\r\nimport \"swiper/css\";\r\nimport \"swiper/css/effect-coverflow\";\r\nimport \"swiper/css/pagination\";\r\nimport axiosClient from \"@/lib/axiosClient\";\r\n\r\nconst DEFAULT_IMAGE =\r\n  \"https://lh3.googleusercontent.com/hzTpTV1Qwyi4crcaB_lEaRTg603ttzm_6Uw8SwBC-iQ9-PeWdFdNpejyPzFdVqWLBjf8o58sDjs8M9wV01MCyjJ3XX6GBIiUrLRiQi9ui8m0tp0\";\r\n\r\ninterface GalleryImage {\r\n  id: number;\r\n  url: string;\r\n  position: number;\r\n}\r\n\r\ninterface SliderTwoProps {\r\n  productId: number;\r\n}\r\n\r\nexport default function SliderTwo({ productId }: SliderTwoProps) {\r\n  const [images, setImages] = useState<GalleryImage[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const fetchImages = async () => {\r\n      if (!productId) {\r\n        setImages([{ id: 0, url: DEFAULT_IMAGE, position: 1 }]);\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        const res = await axiosClient.get(\"/product-images\", {\r\n          params: { product_id: productId },\r\n        });\r\n\r\n        if (!res.data?.success) {\r\n          throw new Error(res.data?.message || \"API returned success: false\");\r\n        }\r\n\r\n        const galleryImages = (res.data.data || [])\r\n          .filter((item: any) => item.type === \"gallery\" && item.url?.trim())\r\n          .map((item: any) => ({\r\n            id: item.id,\r\n            url: item.url.trim(),\r\n            position: item.position ?? 999,\r\n          }))\r\n          .sort((a: GalleryImage, b: GalleryImage) => a.position - b.position);\r\n\r\n        setImages(\r\n          galleryImages.length > 0\r\n            ? galleryImages\r\n            : [{ id: 0, url: DEFAULT_IMAGE, position: 1 }]\r\n        );\r\n      } catch (err: any) {\r\n        console.error(\"Error fetching images:\", err);\r\n        const message =\r\n          err.response?.data?.message ||\r\n          err.message ||\r\n          \"Failed to load gallery images\";\r\n        setError(message);\r\n        setImages([{ id: 0, url: DEFAULT_IMAGE, position: 1 }]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchImages();\r\n  }, [productId]);\r\n\r\n  // Loading state – same look as previous sliders\r\n  if (loading) {\r\n    return (\r\n      <div className=\"w-full max-w-[900px] mx-auto h-[300px] flex items-center justify-center bg-muted rounded-xl\">\r\n        <p className=\"text-muted-foreground\">Loading beautiful slides...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Error state\r\n  if (error) {\r\n    return (\r\n      <div className=\"w-full max-w-[900px] mx-auto h-[300px] flex items-center justify-center bg-destructive/10 rounded-xl\">\r\n        <p className=\"text-destructive\">Error: {error}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // No images (won’t happen because we always have fallback)\r\n  if (images.length === 0) return null;\r\n\r\n  return (\r\n    <Swiper\r\n      effect=\"coverflow\"\r\n      grabCursor={true}\r\n      centeredSlides={true}\r\n      slidesPerView={\"auto\"}\r\n      loop={images.length > 1} // only loop if more than 1 image\r\n      autoplay={{ delay: 3000, disableOnInteraction: false }}\r\n      coverflowEffect={{\r\n        rotate: 50,\r\n        stretch: 30,\r\n        depth: 350,\r\n        modifier: 19,\r\n        slideShadows: true,\r\n      }}\r\n      pagination={{ clickable: true }}\r\n      modules={[EffectCoverflow, Autoplay, Pagination]}\r\n     \r\n    >\r\n      {images.map((img) => (\r\n        <SwiperSlide key={img.id}>\r\n          {/* PERFECT SQUARE BOX – exactly your original */}\r\n          <div className=\"card-header-slider\">\r\n            <img\r\n              src={img.url}\r\n              className=\"w-full h-full object-cover rounded-xl\"\r\n              alt=\"Gallery slide\"\r\n              loading=\"lazy\"\r\n              onError={(e) => {\r\n                (e.target as HTMLImageElement).src = DEFAULT_IMAGE;\r\n              }}\r\n            />\r\n          </div>\r\n        </SwiperSlide>\r\n      ))}\r\n    </Swiper>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAIA;;;AARA;;;;;;;;AAUA,MAAM,gBACJ;AAYa,SAAS,UAAU,EAAE,SAAS,EAAkB;;IAC7D,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAiB,EAAE;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAElD,IAAA,0KAAS;+BAAC;YACR,MAAM;mDAAc;oBAClB,IAAI,CAAC,WAAW;wBACd,UAAU;4BAAC;gCAAE,IAAI;gCAAG,KAAK;gCAAe,UAAU;4BAAE;yBAAE;wBACtD,WAAW;wBACX;oBACF;oBAEA,IAAI;wBACF,WAAW;wBACX,SAAS;wBAET,MAAM,MAAM,MAAM,gIAAW,CAAC,GAAG,CAAC,mBAAmB;4BACnD,QAAQ;gCAAE,YAAY;4BAAU;wBAClC;wBAEA,IAAI,CAAC,IAAI,IAAI,EAAE,SAAS;4BACtB,MAAM,IAAI,MAAM,IAAI,IAAI,EAAE,WAAW;wBACvC;wBAEA,MAAM,gBAAgB,CAAC,IAAI,IAAI,CAAC,IAAI,IAAI,EAAE,EACvC,MAAM;6EAAC,CAAC,OAAc,KAAK,IAAI,KAAK,aAAa,KAAK,GAAG,EAAE;4EAC3D,GAAG;6EAAC,CAAC,OAAc,CAAC;oCACnB,IAAI,KAAK,EAAE;oCACX,KAAK,KAAK,GAAG,CAAC,IAAI;oCAClB,UAAU,KAAK,QAAQ,IAAI;gCAC7B,CAAC;4EACA,IAAI;6EAAC,CAAC,GAAiB,IAAoB,EAAE,QAAQ,GAAG,EAAE,QAAQ;;wBAErE,UACE,cAAc,MAAM,GAAG,IACnB,gBACA;4BAAC;gCAAE,IAAI;gCAAG,KAAK;gCAAe,UAAU;4BAAE;yBAAE;oBAEpD,EAAE,OAAO,KAAU;wBACjB,QAAQ,KAAK,CAAC,0BAA0B;wBACxC,MAAM,UACJ,IAAI,QAAQ,EAAE,MAAM,WACpB,IAAI,OAAO,IACX;wBACF,SAAS;wBACT,UAAU;4BAAC;gCAAE,IAAI;gCAAG,KAAK;gCAAe,UAAU;4BAAE;yBAAE;oBACxD,SAAU;wBACR,WAAW;oBACb;gBACF;;YAEA;QACF;8BAAG;QAAC;KAAU;IAEd,gDAAgD;IAChD,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAE,WAAU;0BAAwB;;;;;;;;;;;IAG3C;IAEA,cAAc;IACd,IAAI,OAAO;QACT,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAE,WAAU;;oBAAmB;oBAAQ;;;;;;;;;;;;IAG9C;IAEA,2DAA2D;IAC3D,IAAI,OAAO,MAAM,KAAK,GAAG,OAAO;IAEhC,qBACE,6LAAC,uJAAM;QACL,QAAO;QACP,YAAY;QACZ,gBAAgB;QAChB,eAAe;QACf,MAAM,OAAO,MAAM,GAAG;QACtB,UAAU;YAAE,OAAO;YAAM,sBAAsB;QAAM;QACrD,iBAAiB;YACf,QAAQ;YACR,SAAS;YACT,OAAO;YACP,UAAU;YACV,cAAc;QAChB;QACA,YAAY;YAAE,WAAW;QAAK;QAC9B,SAAS;YAAC,6NAAe;YAAE,oMAAQ;YAAE,0MAAU;SAAC;kBAG/C,OAAO,GAAG,CAAC,CAAC,oBACX,6LAAC,4JAAW;0BAEV,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBACC,KAAK,IAAI,GAAG;wBACZ,WAAU;wBACV,KAAI;wBACJ,SAAQ;wBACR,SAAS,CAAC;4BACP,EAAE,MAAM,CAAsB,GAAG,GAAG;wBACvC;;;;;;;;;;;eAVY,IAAI,EAAE;;;;;;;;;;AAiBhC;GAjHwB;KAAA"}}]
}