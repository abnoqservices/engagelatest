{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/D/next/engage33/components/tempcomponent/Propheader.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axiosClient from \"@/lib/axiosClient\";\n\ninterface PropheaderProps {\n  productId: number;\n  pro_p_header?: boolean; // Optional, defaults to true\n}\n\ninterface ProductData {\n  id: number;\n  name: string;\n  sku: string;\n  category: string | { name: string }; // Can be string or object with name\n  price: string;\n  description: string;\n  images: Array<{ url?: string }>;\n}\n\nexport default function Propheader({ productId, pro_p_header = true }: PropheaderProps) {\n  const [product, setProduct] = useState<ProductData | null>(null);\n  const [loading, setLoading] = useState<boolean>(true);\n  const [error, setError] = useState<string | null>(null);\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  useEffect(() => {\n    const fetchProduct = async () => {\n      try {\n        setLoading(true);\n        const response = await axiosClient.get(`/products/${productId}`);\n        if (response.data.success) {\n          setProduct(response.data.data);\n        } else {\n          setError(\"Failed to fetch product\");\n        }\n      } catch (err) {\n        setError(\"An error occurred while fetching the product\");\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (productId) {\n      fetchProduct();\n    }\n  }, [productId]);\n\n  if (loading) {\n    return (\n      <div className=\"flex flex-col items-center text-center py-8\">\n        <p className=\"text-gray-600\">Loading product details...</p>\n      </div>\n    );\n  }\n\n  if (error || !product) {\n    return (\n      <div className=\"flex flex-col items-center text-center py-8\">\n        <p className=\"text-red-600\">{error || \"Product not found\"}</p>\n      </div>\n    );\n  }\n\n  if (!pro_p_header) {\n    return null;\n  }\n\n  // Extract category name safely\n  const category =\n    typeof product.category === \"string\"\n      ? product.category\n      : product.category?.name || \"Uncategorized\";\n\n  // Truncate description to ~200 characters\n  const MAX_CHARS = 200;\n  const description = product.description || \"\";\n  const shouldTruncate = description.length > MAX_CHARS;\n  const truncatedDescription = description.slice(0, MAX_CHARS);\n  const displayDescription = isExpanded ? description : truncatedDescription;\n\n  return (\n    <div className=\"card-header \">\n      {/* Product Title */}\n      <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">\n        {product.name}\n      </h1>\n\n      {/* Category */}\n      <p className=\"text-lg text-gray-600 mb-6\">\n        Category: <span className=\"font-medium text-gray-800\">{category}</span>\n      </p>\n\n      {/* Description with Read More/Less */}\n      <div className=\"text-gray-700 text-base leading-relaxed text-justify\">\n        <p className=\"whitespace-pre-line\">\n          {displayDescription}\n          {!isExpanded && shouldTruncate && <span>...</span>}\n        </p>\n\n        {shouldTruncate && (\n          <button\n            onClick={() => setIsExpanded(!isExpanded)}\n            className=\"mt-4 text-blue-600 hover:text-blue-800 font-medium text-sm focus:outline-none transition\"\n          >\n            {isExpanded ? \"Show less\" : \"Read more\"}\n          </button>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAAA;AACA;;;;;AAiBe,SAAS,WAAW,EAAE,SAAS,EAAE,eAAe,IAAI,EAAmB;;IACpF,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAqB;IAC3D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAU;IAChD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAClD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAE7C,IAAA,0KAAS;gCAAC;YACR,MAAM;qDAAe;oBACnB,IAAI;wBACF,WAAW;wBACX,MAAM,WAAW,MAAM,gIAAW,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,WAAW;wBAC/D,IAAI,SAAS,IAAI,CAAC,OAAO,EAAE;4BACzB,WAAW,SAAS,IAAI,CAAC,IAAI;wBAC/B,OAAO;4BACL,SAAS;wBACX;oBACF,EAAE,OAAO,KAAK;wBACZ,SAAS;wBACT,QAAQ,KAAK,CAAC;oBAChB,SAAU;wBACR,WAAW;oBACb;gBACF;;YAEA,IAAI,WAAW;gBACb;YACF;QACF;+BAAG;QAAC;KAAU;IAEd,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAE,WAAU;0BAAgB;;;;;;;;;;;IAGnC;IAEA,IAAI,SAAS,CAAC,SAAS;QACrB,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAE,WAAU;0BAAgB,SAAS;;;;;;;;;;;IAG5C;IAEA,IAAI,CAAC,cAAc;QACjB,OAAO;IACT;IAEA,+BAA+B;IAC/B,MAAM,WACJ,OAAO,QAAQ,QAAQ,KAAK,WACxB,QAAQ,QAAQ,GAChB,QAAQ,QAAQ,EAAE,QAAQ;IAEhC,0CAA0C;IAC1C,MAAM,YAAY;IAClB,MAAM,cAAc,QAAQ,WAAW,IAAI;IAC3C,MAAM,iBAAiB,YAAY,MAAM,GAAG;IAC5C,MAAM,uBAAuB,YAAY,KAAK,CAAC,GAAG;IAClD,MAAM,qBAAqB,aAAa,cAAc;IAEtD,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAG,WAAU;0BACX,QAAQ,IAAI;;;;;;0BAIf,6LAAC;gBAAE,WAAU;;oBAA6B;kCAC9B,6LAAC;wBAAK,WAAU;kCAA6B;;;;;;;;;;;;0BAIzD,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAE,WAAU;;4BACV;4BACA,CAAC,cAAc,gCAAkB,6LAAC;0CAAK;;;;;;;;;;;;oBAGzC,gCACC,6LAAC;wBACC,SAAS,IAAM,cAAc,CAAC;wBAC9B,WAAU;kCAET,aAAa,cAAc;;;;;;;;;;;;;;;;;;AAMxC;GA5FwB;KAAA"}}]
}